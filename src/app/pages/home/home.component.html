<section class="posts">
	
	<div class="posts__wrapper">

    <div class="posts__filter">

      <form (ngSubmit)="filterSearch()">

        <div class="posts__filter--item bigger">
          <div class="input-form">
            <input  type="text" id="filterName" placeholder="&nbsp;" [(ngModel)]="filterName" name="filterName" (input)="filterEmpty()">
            <label for="filterName" data-label="Filtro de nombre"></label>
          </div>
        </div>

        <div class="posts__filter--item">
          <button type="submit" class="button center">Buscar</button>
        </div>

      </form>
    </div>

		<table class="table">

			<thead class="table__header">
				<tr class="table__header--row">
					<td class="table__header--datacell datatype-string">Nombre</td>
					<td class="table__header--datacell datatype-string">Descripción</td>
					<td class="table__header--datacell datatype-string center">Acción</td>
				</tr>
			</thead>

			<tbody class="table__content">
        <ng-container *ngIf="posts$ | async as posts">
          <tr class="table__content--row" *ngFor="let post of posts$ | async; let i = index;" [ngClass]="{'alternate': i % 2 == 0 }">
            <td class="table__content--datacell datatype-string">{{post.name}}</td>
            <td class="table__content--datacell datatype-string">{{post.description}}</td>
            <td class="table__content--datacell datatype-string">
              <button type="button" class="button center small danger" (click)="deletePost(post.id)">
                <i class="large material-icons">delete_forever</i>
              </button>
            </td>
          </tr>
        </ng-container>
			</tbody>

		</table>

    <div class="error--info" *ngIf="(posts$ | async)?.length === 0 && filterName.length > 0">
      <p>No hay resultados para "{{ filterName }}"</p>
    </div>

    <div class="error--info" *ngIf="(posts$ | async)?.length === 0 && filterName.length == 0">
      <p>No hay posts por el momento.</p>
    </div>

	</div>

</section>

<section class="create">
  <form (ngSubmit)="savePost()">

    <div class="create__content">

        <div class="create__content--item">
          <div class="input-form">
            <input  type="text" id="name" placeholder="&nbsp;" [(ngModel)]="name" name="name" required>
            <label for="name" data-label="Nombre"></label>
          </div>
        </div>
        
        <div class="create__content--item bigger">
          <div class="input-form">
            <input  type="text" id="desc" placeholder="&nbsp;" [(ngModel)]="description" name="description" required>
            <label for="desc" data-label="Descripción"></label>
          </div>
        </div>

        <div class="create__content--item">
          <button class="button center">Crear</button>
        </div>
      
    </div>

  </form>
  
</section>

<!-- Waves -->
<div class="waveOne"></div>

<div class="waveTwo"></div>